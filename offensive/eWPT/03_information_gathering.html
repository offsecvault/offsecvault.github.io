<!DOCTYPE html>
<html lang="en-US">

<head>
  <title>offsecvault - Knowledge Base</title>
  <!--------------------->
  <!-- b0ydC owned. -->
  <!-- --------------- -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8" />

   <style>
    body {
      font-size: 12px;
      font-family: ubuntu mono;
      background-color: white;
      color: black;
      margin: 0;
    }

    a {
      color: black;
      font-weight: bold;
      text-decoration: none;
    }
	
	* {
      box-sizing: border-box;
    }

	details {
      border: 2px solid black;
      border-radius: 2px;
      font-size: 10px;
      padding: .5em .5em 0;
    }

    summary {
      font-weight: bold;
      margin: -.5em -.5em 0;
      padding: .5em;
    }

    details[open] summary {
      background: black;
      color: white;
    }

    details[open] {
      background: white;
      color: black;
      padding: .5em .5em 0;
    }

    a:hover,
    a:active {
      color: #b81212;
      text-decoration: underline;
    }
	
    table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    }

    table.center {
    margin-left: auto; 
    margin-right: auto;
}
</style>
</head>

<body>
  <pre><center>
<a href="/index.html" style="text-decoration:none;">
 ▒█████    █████▒ █████▒ ██████ ▓█████  ▄████▄ ██▒   █▓ ▄▄▄       █    ██  ██▓  ▄▄▄█████▓
▒██▒  ██▒▓██   ▒▓██   ▒▒██    ▒ ▓█   ▀ ▒██▀ ▀█▓██░   █▒▒████▄     ██  ▓██▒▓██▒  ▓  ██▒ ▓▒
▒██░  ██▒▒████ ░▒████ ░░ ▓██▄   ▒███   ▒▓█    ▄▓██  █▒░▒██  ▀█▄  ▓██  ▒██░▒██░  ▒ ▓██░ ▒░
▒██   ██░░▓█▒  ░░▓█▒  ░  ▒   ██▒▒▓█  ▄ ▒▓▓▄ ▄██▒▒██ █░░░██▄▄▄▄██ ▓▓█  ░██░▒██░  ░ ▓██▓ ░ 
░ ████▓▒░░▒█░   ░▒█░   ▒██████▒▒░▒████▒▒ ▓███▀ ░ ▒▀█░   ▓█   ▓██▒▒▒█████▓ ░██████▒▒██▒ ░ 
░ ▒░▒░▒░  ▒ ░    ▒ ░   ▒ ▒▓▒ ▒ ░░░ ▒░ ░░ ░▒ ▒  ░ ░ ▐░   ▒▒   ▓▒█░░▒▓▒ ▒ ▒ ░ ▒░▓  ░▒ ░░   
  ░ ▒ ▒░  ░      ░     ░ ░▒  ░ ░ ░ ░  ░  ░  ▒    ░ ░░    ▒   ▒▒ ░░░▒░ ░ ░ ░ ░ ▒  ░  ░    
░ ░ ░ ▒   ░ ░    ░ ░   ░  ░  ░     ░   ░           ░░    ░   ▒    ░░░ ░ ░   ░ ░   ░      
    ░ ░                      ░     ░  ░░ ░          ░        ░  ░   ░         ░  ░       
                                       ░           ░                                     
</a></pre>

<div style="font-size:24px; text-align:center; font-family:courier,monospace;">
    <a href="../../RED-TEAM.html">OFFENSIVE</a> |
    <a href="../../BLUE-TEAM.html">DEFENSIVE</a> |
    <a href="../../CTF.html">CTF</a> |
    <a href="../../TOOLS.html">TOOLS</a> |
    <a href="../../ABOUT.html">ABOUT</a> 
</div>
<pre style="text-align:center;">
<h3> 03.information gathering  </h3>

- first thing: collect information about the organization

<a href="https://whois.domaintools.com/">WHOIS.com</a>

DNS:

SOA = start of authority 
NS = name server
A = address
PTR = pointer | maps an IP address to a hostname, PTR records are called reverse zones
CNAME = maps an alias hostname to an A record hostname
MX = mail exchange | specify a host that will accept email on behalf of a given host

perform a reverse lookup = nslookup -type=PTR [ip_address]

perform a request for all record = nslookup -querytype=ANY [IP/hostname]

finding target IPs: 
-using nslookup you can get the IP address associated to each subdomain, the first step is to 
find all possible IPs associated to a domain or subdomain.

>>... NSLOOKUP usage

$ nslookup
$ set querytype=ANY
$ google.com

$ set type=NS
$ google.com

<a href="https://www.netcraft.com/">netcraft.com</a>

... infraestructure::

IIS is for Windows OS. IIS 6.0 for 2003 boxes, windows 2008 support IIS 7 and IIS 8.0 supported by windows 2012.

list:

- nameserver NS record
- IPs
- hostnames
- OS version
- domains/subdomains
- uptimes
- ISP provider

TOOLS USAGE

---> netcat

$ nc [ip_addr] [port]
HEAD / HTTP/1.0

flag, X-Powered-By is used to reveal the technology behind the web application.

cookie flag by technology: PHPSESSID = PHP | ASPSSESSIONID = .NET | JSESSION = JAVA

URL rewriting, on apache with the mod_rewrite module or .htaccess

On IIS is handled by Ionic Isapi Rewrite or Helicon Isapi Rewrite.

...SUBDOMAIN ENUMERATION
<a href="https://searchdns.netcraft.com/"> SEARCH DNS netcraft.com</a>

another tool that can be used is google operators=google hacking !!
<a href="https://www.googleguide.com/advanced_operators_reference.html"> GOOGLE HACKING!</a>

more tools for domain/sub-domain enumeration:

<a href="https://github.com/darkoperator/dnsrecon"> DNS RECON </a>
<a href="https://github.com/TheRook/subbrute"> SUBBRUTE </a>
<a href="https://github.com/davidpepper/fierce-domain-scanner"> FIERCE </a>
<a href="https://github.com/laramies/theHarvester"> THE HARVESTER </a>

enumerate via zone transfer

$ nslookup -type=NS [domain]

for linux other option:

$ dig @nameserver axfr [domain]

---> fingerprint third-party addons

JOOMLA URL main parts

$ index.php?option=%component_name%&task=%task_value%

-=> index.php = it is the only script you will see, it is in charge of loading the specified component 
passed in via the option parameter. 

DOCMAN URL main parts

$ index.php?option=com_docman&task=doc_view&gid=100

STEPS <<

1. crawling the site: that will help to enumerate all the resources from one site.
>>>... tools like burpsuite, spider scan can help to enumerate the site, however, it will not retrieve all
the possible content. for that "dirbuster" will work. 

********

logs and configuration files are really important, they will probably have different sensitive information 
like username/password, database connection info or any administrative valid information. all sites have the conf file
in any place, just different folders.

HTTP PUT code will work only on writable folders. even if the request is allowed, only on writable folders will succeed.
when a PUT request is successfull you will receive: 201 Created !
IMPORTANT, to add the "content lenght" to the request.. 

HTTP OPTIONS, if the code is not allowed, probably you will get some type of 4XX or 5XX error code. 

|| GOOGLE HACKING ||

intitle | site | "index of" | "directory listing for" | filetype

-check for open directories, "index of" [extension] or "directory listing for" [extension]
-check for files by extention type 

<a href="https://web.archive.org/web/20170923154641/http:/www.hackersforcharity.org/ghdb/"> GOOGLE HACKING DATABASE FUNCTIONS </a>

| SHODAN |



</center>
</body>
</html>
